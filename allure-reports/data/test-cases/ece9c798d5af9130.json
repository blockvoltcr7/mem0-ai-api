{"uid":"ece9c798d5af9130","name":"test_metadata_memory_filtering","fullName":"tests.qdrant_integration_tests.test_memory_scenarios.TestMemoryScenarios#test_metadata_memory_filtering","historyId":"a301a0a319a7590b16f252c6134c60a4","time":{"start":1748453761948,"stop":1748453761948,"duration":0},"description":"\n        Test metadata-based memory filtering and retrieval.\n        \n        Verifies that metadata can be used to organize and filter\n        memories for more precise context retrieval.\n        ","descriptionHtml":"<pre><code>    Test metadata-based memory filtering and retrieval.\n    \n    Verifies that metadata can be used to organize and filter\n    memories for more precise context retrieval.\n</code></pre>\n","status":"failed","statusMessage":"Failed: ScopeMismatch: You tried to access the function scoped fixture _function_event_loop with a session scoped request object. Requesting fixture stack:\ntests/qdrant_integration_tests/conftest.py:147:  def setup_test_environment()\nRequested fixture:\n.venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:843:  def _scoped_event_loop(*args, event_loop_policy) -> 'Iterator[asyncio.AbstractEventLoop]'","statusTrace":"ScopeMismatch: You tried to access the function scoped fixture _function_event_loop with a session scoped request object. Requesting fixture stack:\ntests/qdrant_integration_tests/conftest.py:147:  def setup_test_environment()\nRequested fixture:\n.venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:843:  def _scoped_event_loop(*args, event_loop_policy) -> 'Iterator[asyncio.AbstractEventLoop]'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop_policy","time":{"start":1748453761929,"stop":1748453761929,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_test_environment","time":{"start":1748453761929,"stop":1748453761929,"duration":0},"status":"failed","statusMessage":"Failed: ScopeMismatch: You tried to access the function scoped fixture _function_event_loop with a session scoped request object. Requesting fixture stack:\ntests/qdrant_integration_tests/conftest.py:147:  def setup_test_environment()\nRequested fixture:\n.venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:843:  def _scoped_event_loop(*args, event_loop_policy) -> 'Iterator[asyncio.AbstractEventLoop]'\n","statusTrace":"  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py\", line 898, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 358, in _async_fixture_wrapper\n    event_loop = request.getfixturevalue(event_loop_fixture_id)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py\", line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py\", line 611, in _get_active_fixturedef\n    self._check_scope(fixturedef, scope)\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/_pytest/fixtures.py\", line 770, in _check_scope\n    fail(\n  File \"/Users/samisabir-idrissi/code/ssiautomationsapps/mem01-ai-tutor/.venv/lib/python3.12/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n        Test metadata-based memory filtering and retrieval.\n        \n        Verifies that metadata can be used to organize and filter\n        memories for more precise context retrieval.\n        ","status":"failed","statusMessage":"Failed: ScopeMismatch: You tried to access the function scoped fixture _function_event_loop with a session scoped request object. Requesting fixture stack:\ntests/qdrant_integration_tests/conftest.py:147:  def setup_test_environment()\nRequested fixture:\n.venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:843:  def _scoped_event_loop(*args, event_loop_policy) -> 'Iterator[asyncio.AbstractEventLoop]'","statusTrace":"ScopeMismatch: You tried to access the function scoped fixture _function_event_loop with a session scoped request object. Requesting fixture stack:\ntests/qdrant_integration_tests/conftest.py:147:  def setup_test_environment()\nRequested fixture:\n.venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:843:  def _scoped_event_loop(*args, event_loop_policy) -> 'Iterator[asyncio.AbstractEventLoop]'","steps":[],"attachments":[{"uid":"8c293fe3508e471b","name":"Exception","source":"8c293fe3508e471b.txt","type":"text/plain","size":400}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"feature","value":"Memory Scenarios"},{"name":"epic","value":"Qdrant Integration"},{"name":"story","value":"Metadata-Based Memory Filtering"},{"name":"severity","value":"normal"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"integration"},{"name":"tag","value":"memory"},{"name":"parentSuite","value":"tests.qdrant_integration_tests"},{"name":"suite","value":"test_memory_scenarios"},{"name":"subSuite","value":"TestMemoryScenarios"},{"name":"host","value":"samis-MacBook-Pro.local"},{"name":"thread","value":"90218-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.qdrant_integration_tests.test_memory_scenarios"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"110fcb33899354ef","status":"skipped","statusDetails":"Skipped: async def function and no async plugin installed (see warnings)","time":{"start":1748452484120,"stop":1748452484120,"duration":0}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["memory","asyncio","integration"]},"source":"ece9c798d5af9130.json","parameterValues":[]}